<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Admin Dashboard - StoryGrid Magazine">
  <title>Admin Dashboard | StoryGrid Magazine</title>
  <link rel="icon" href="assets/img/Story-grid.png">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
    rel="stylesheet">

  <!-- Stylesheets -->
  <link rel="stylesheet" href="theme.css">
  <link rel="stylesheet" href="components.css">

  <style>
    .dashboard-container {
      max-width: 1600px;
      margin: 0 auto;
      padding: var(--spacing-2xl) var(--spacing-lg);
    }

    .dashboard-header {
      margin-bottom: var(--spacing-2xl);
    }

    .dashboard-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--spacing-lg);
      margin-bottom: var(--spacing-2xl);
    }

    .stat-card {
      background: var(--white);
      padding: var(--spacing-xl);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      border-left: 4px solid var(--primary-orange);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary-orange);
      margin-bottom: var(--spacing-sm);
    }

    .stat-label {
      font-size: 0.875rem;
      color: var(--medium-gray);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .dashboard-section {
      background: var(--white);
      padding: var(--spacing-xl);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      margin-bottom: var(--spacing-lg);
    }

    .section-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: var(--spacing-lg);
      color: var(--charcoal);
    }

    .empty-state {
      text-align: center;
      padding: var(--spacing-3xl) var(--spacing-xl);
      color: var(--medium-gray);
    }

    .empty-state-icon {
      font-size: 4rem;
      margin-bottom: var(--spacing-lg);
      opacity: 0.3;
    }

    .data-table {
      width: 100%;
      border-collapse: collapse;
      overflow-x: auto;
    }

    .data-table th {
      text-align: left;
      padding: var(--spacing-md);
      border-bottom: 2px solid var(--light-gray);
      font-weight: 600;
      color: var(--charcoal);
      background-color: var(--off-white);
    }

    .data-table td {
      padding: var(--spacing-md);
      border-bottom: 1px solid var(--light-gray);
    }

    .data-table tr:hover {
      background-color: var(--off-white);
    }

    .badge-admin {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background-color: #dc3545;
      color: white;
      border-radius: var(--radius-pill);
      font-size: 0.75rem;
      font-weight: 600;
    }

    .badge-user {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      background-color: var(--primary-orange);
      color: white;
      border-radius: var(--radius-pill);
      font-size: 0.75rem;
      font-weight: 600;
    }
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar-container">
      <!-- Brand (Left) -->
      <a href="index.html" class="navbar-logo">
        Story<span>Grid</span>
      </a>

      <!-- Nav Links (Center) -->
      <ul class="navbar-menu">
        <li><a href="index.html" class="navbar-link">Home</a></li>
        <li><a href="discover.html" class="navbar-link">Discover</a></li>
        <li><a href="about.html" class="navbar-link">About</a></li>

        <!-- Categories Dropdown -->
        <li class="navbar-dropdown">
          <a href="#" class="navbar-link">
            Categories
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              style="margin-left: 4px;">
              <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
          </a>
          <div class="dropdown-menu">
            <a href="category1.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                <line x1="8" y1="21" x2="16" y2="21"></line>
                <line x1="12" y1="17" x2="12" y2="21"></line>
              </svg>
              Technology
            </a>
            <a href="category2.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <path
                  d="M2 16.1A5 5 0 0 1 5.9 20M2 12.05A9 9 0 0 1 9.95 20M2 8V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6">
                </path>
                <line x1="2" y1="20" x2="2.01" y2="20"></line>
              </svg>
              Culture
            </a>
            <a href="category3.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
              Business
            </a>
            <a href="category4.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <path
                  d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z">
                </path>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                <line x1="12" y1="22.08" x2="12" y2="12"></line>
              </svg>
              Travel
            </a>
            <a href="category5.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
              </svg>
              Health
            </a>
            <a href="category6.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                <path d="M2 2l7.586 7.586"></path>
                <circle cx="11" cy="11" r="2"></circle>
              </svg>
              Design
            </a>
            <a href="category7.html" class="dropdown-menu-item">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                style="margin-right: 8px;">
                <circle cx="12" cy="12" r="3"></circle>
                <path
                  d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                </path>
              </svg>
              Science
            </a>
          </div>
        </li>

        <li><a href="featured.html" class="navbar-link">Featured</a></li>
        <li><a href="latest.html" class="navbar-link">Latest</a></li>
        <li><a href="blog.html" class="navbar-link">Blog</a></li>
        <li><a href="contact.html" class="navbar-link">Contact</a></li>
      </ul>

      <!-- Profile Icon (Right) -->
      <div class="navbar-profile-right">
        <div class="profile-trigger">
          <div class="profile-avatar">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
        </div>
        <div class="profile-dropdown">
          <!-- Before Login -->
          <a href="auth/user/login.html" class="dropdown-item auth-only">Login</a>
          <a href="auth/user/signup.html" class="dropdown-item auth-only">Sign Up</a>
          <!-- After Login (User) -->
          <a href="user-dashboard.html" class="dropdown-item user-only" style="display: none;">Dashboard</a>
          <!-- After Login (Admin) -->
          <a href="admin-dashboard.html" class="dropdown-item admin-only" style="display: none;">Admin Dashboard</a>
          <!-- Logout (Both) -->
          <a href="#" class="dropdown-item logged-in-only" style="display: none;" onclick="handleLogout()">Logout</a>
        </div>
      </div>

      <!-- Mobile Toggle -->
      <button class="navbar-toggle">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Dashboard Content -->
  <div class="dashboard-container">
    <!-- Header -->
    <div class="dashboard-header">
      <h1>Admin Dashboard</h1>
      <p style="color: var(--medium-gray); margin-top: var(--spacing-sm);">Manage your magazine platform</p>
    </div>

    <!-- Stats -->
    <div class="dashboard-stats">
      <div class="stat-card">
        <div class="stat-value" id="totalUsers">0</div>
        <div class="stat-label">Total Users</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalContacts">0</div>
        <div class="stat-label">Contact Messages</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalSubscribers">0</div>
        <div class="stat-label">Newsletter Subscribers</div>
      </div>
    </div>

    <!-- Users Section -->
    <div class="dashboard-section">
      <h2 class="section-title">Registered Users</h2>
      <div id="usersContent"></div>
    </div>

    <!-- Contact Messages Section -->
    <div class="dashboard-section">
      <h2 class="section-title">Contact Messages</h2>
      <div id="contactsContent"></div>
    </div>

    <!-- Newsletter Subscribers Section -->
    <div class="dashboard-section">
      <h2 class="section-title">Newsletter Subscribers</h2>
      <div id="subscribersContent"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-brand">
          <h3 class="footer-logo">Story<span>Grid</span></h3>
          <p class="footer-description">
            Stories for the modern era. Curating the unseen and the meaningful.
          </p>
          <div class="footer-social">
            <a href="#" class="social-link" title="Facebook">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
              </svg>
            </a>
            <a href="#" class="social-link" title="Twitter">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path
                  d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
                </path>
              </svg>
            </a>
            <a href="#" class="social-link" title="Instagram">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
              </svg>
            </a>
            <a href="#" class="social-link" title="LinkedIn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                <rect x="2" y="9" width="4" height="12"></rect>
                <circle cx="4" cy="4" r="2"></circle>
              </svg>
            </a>
          </div>
        </div>

        <div class="footer-col">
          <h4>Navigation</h4>
          <ul class="footer-links">
            <li><a href="featured.html" class="footer-link">Featured</a></li>
            <li><a href="latest.html" class="footer-link">Latest</a></li>
            <li><a href="blog.html" class="footer-link">Blog</a></li>
            <li><a href="contact.html" class="footer-link">Contact</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Categories</h4>
          <ul class="footer-links">
            <li><a href="category1.html" class="footer-link">Technology</a></li>
            <li><a href="category2.html" class="footer-link">Culture</a></li>
            <li><a href="category3.html" class="footer-link">Business</a></li>
            <li><a href="category6.html" class="footer-link">Design</a></li>
          </ul>
        </div>

        <div class="footer-col">
          <h4>Legal</h4>
          <ul class="footer-links">
            <li><a href="privacy-policy.html" class="footer-link">Privacy Policy</a></li>
            <li><a href="faq.html" class="footer-link">FAQ</a></li>
            <li><a href="tos.html" class="footer-link">Terms of Service</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p class="footer-copyright">&copy; 2026 DESIGNED BY MR CODERS HUB. ALL RIGHTS RESERVED.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/app.js"></script>
  <script>
    // Protect admin page - redirect if not admin
    if (!Auth.isLoggedIn()) {
      window.location.href = 'auth/user/login.html';
    } else {
      const user = Auth.getCurrentUser();
      if (user.email !== 'admin@gmail.com') {
        window.location.href = 'user-dashboard.html';
      }
    }

    // Load admin dashboard data
    function loadAdminDashboard() {
      // Get all data from localStorage
      const users = Storage.get('users') || [];
      const contacts = Storage.get('contacts') || [];
      const newsletter = Storage.get('newsletter') || [];

      // Update stats
      document.getElementById('totalUsers').textContent = users.length;
      document.getElementById('totalContacts').textContent = contacts.length;
      document.getElementById('totalSubscribers').textContent = newsletter.length;

      // Display Users
      const usersContent = document.getElementById('usersContent');
      if (users.length === 0) {
        usersContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="opacity: 0.3;">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <p>No registered users yet</p>
                    </div>
                `;
      } else {
        usersContent.innerHTML = `
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Registered</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${users.map(user => `
                                    <tr>
                                        <td>${user.name}</td>
                                        <td>${user.email}</td>
                                        <td>
                                            ${user.role === 'admin'
            ? '<span class="badge-admin">Admin</span>'
            : '<span class="badge-user">User</span>'}
                                        </td>
                                        <td>${user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
      }

      // Display Contact Messages
      const contactsContent = document.getElementById('contactsContent');
      if (contacts.length === 0) {
        contactsContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="opacity: 0.3;">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                <polyline points="22,6 12,13 2,6"></polyline>
                            </svg>
                        </div>
                        <p>No contact messages yet</p>
                    </div>
                `;
      } else {
        contactsContent.innerHTML = `
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Subject</th>
                                    <th>Message</th>
                                    <th>Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${contacts.map(contact => `
                                    <tr>
                                        <td>${contact.name || 'N/A'}</td>
                                        <td>${contact.email || 'N/A'}</td>
                                        <td>${contact.subject || 'N/A'}</td>
                                        <td style="max-width: 300px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            ${contact.message || 'N/A'}
                                        </td>
                                        <td>${contact.submittedAt ? new Date(contact.submittedAt).toLocaleDateString() : 'N/A'}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
      }

      // Display Newsletter Subscribers
      const subscribersContent = document.getElementById('subscribersContent');
      if (newsletter.length === 0) {
        subscribersContent.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="opacity: 0.3;">
                                <path d="M22 17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9.5C2 7 4 5 6.5 5H18c2.2 0 4 1.8 4 4v8z"></path>
                                <polyline points="15,9 18,12 15,15"></polyline>
                                <path d="M2 9.5l7 4.5 4.5-3"></path>
                            </svg>
                        </div>
                        <p>No newsletter subscribers yet</p>
                    </div>
                `;
      } else {
        subscribersContent.innerHTML = `
                    <div style="overflow-x: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Email</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${newsletter.map((email, index) => `
                                    <tr>
                                        <td>${index + 1}</td>
                                        <td>${email}</td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                `;
      }
    }

    // Load dashboard on page load
    document.addEventListener('DOMContentLoaded', loadAdminDashboard);
  </script>
</body>

</html>